http://stackoverflow.com/questions/1179758/function-vs-stored-procedure-in-sql-server